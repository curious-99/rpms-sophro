**Important Instruction for Developers:**  
This repository’s CI/CD and dependency management are managed by the DevOps team. **Do not modify any files in `.github/workflows/` (e.g., `ci.yml`, `cd.yml`, `gitleaks.yml`) or `.github/dependabot.yml` under any circumstances.** Changes to these files are strictly prohibited and reserved for DevOps oversight. Contact the DevOps team for any pipeline or dependency-related requests.

# RPMS-Web

## Introduction
Welcome to the `rpms-web` repository, part of the **Sophrosyne-RPMS** organization! This private repository contains the frontend codebase for the Remote Patient Monitoring System (RPMS), a web application built to optimize resource management workflows. Leveraging TypeScript, Vite, and Node.js (v18), this project delivers a modern, responsive user interface for our team.

Managed by Sophrosyne’s DevOps team, `rpms-web` integrates with GitHub Actions for CI/CD and deploys to GitHub Pages. This repo is exclusive to our organization’s team members, serving as the hub for frontend development and collaboration.

## Developer Rules & Guidelines

### Branching Strategy
Our branching model ensures a structured workflow for features, fixes, releases, and urgent patches. Use the following branch types:

- **`main` Branch**: 
  - The production-ready branch, fully protected. Only merge thoroughly tested and approved code via pull requests (PRs).
  - Direct pushes are blocked; all updates require a PR with team review.

- **`feature/**` Branches**: 
  - For new features or enhancements (e.g., `feature/add-dashboard`, `feature/user-auth`).
  - Prefix with `feature/`: `git checkout -b feature/your-feature-name`.
  - Triggers CI (linting, build) but not deployment.

- **`bugfix/<name>` Branches**: 
  - For fixing issues or bugs (e.g., `bugfix/login-error`, `bugfix/issue-123`).
  - Name descriptively with `bugfix/`: `git checkout -b bugfix/your-fix-name`.
  - Triggers CI like `feature/*` branches.

- **`release/<version>` Branches**: 
  - For preparing upcoming releases (e.g., `release/v1.0.0`, `release/v2.3.1`).
  - Use semantic versioning: `git checkout -b release/your-version`.
  - Test and finalize changes here before merging to `main`.

- **`hotfix/<name>` Branches**: 
  - For urgent production fixes (e.g., `hotfix/critical-bug`, `hotfix/api-failure`).
  - Prefix with `hotfix/`: `git checkout -b hotfix/your-fix-name`.
  - Merge to `main` quickly after testing; triggers CI and CD.

- **Pull Requests (PRs)**:
  - Submit all changes to `main` via PRs, ensuring they pass CI checks (linting, TypeScript, build) and Gitleaks scans.
  - Provide a detailed PR description and link relevant issues or tickets.

### Workflow Rules
1. **CI - Test, Lint & Build (`ci.yml`)**
   - Triggers: Push to `main`, `feature/*`, or PRs to `main`, or manual Workflow Dispatch.
   - Ignores: Markdown (`.md`) and GitHub config (`.github/**`) changes.
   - Rules:
     - Code must pass `npm run lint` and `npx tsc --noEmit` locally before pushing.
     - Builds via `npm run build` (Vite); artifacts are uploaded as `build-output`.

2. **CD - Deploy to GitHub Pages (`cd.yml`)**
   - Triggers: Push to `main` or manual Workflow Dispatch.
   - Rules:
     - Only successful CI builds deploy to GitHub Pages.
     - Uses the `dist` folder—do not edit it manually.

3. **Gitleaks Secret Scan (`gitleaks.yml`)**
   - Triggers: Push or PRs to `main`.
   - Rules:
     - Never commit secrets (e.g., API keys, credentials)—pipeline will fail if detected.
     - Report false positives to the DevOps team for config updates (future `.gitleaks.toml`).

4. **Dependabot - Dependency Management (`dependabot.yml`)**
   - Automatically checks for outdated dependencies and opens pull requests for updates.
   - Runs weekly on Mondays.
   - Maintains dependencies for:
     - `npm` (JavaScript & TypeScript packages)
     - `GitHub Actions` workflows
   - Developers **must not manually update package.json or package-lock.json**. Approve Dependabot PRs after CI validation.
   - To request dependency updates outside Dependabot’s schedule, contact the DevOps team.

### Development Guidelines
- **Node.js**: Use v18 (per workflows). Run `nvm use 18` if using NVM.
- **Dependencies**: Install with `npm ci` to sync with `package-lock.json`. (Updates are managed via Dependabot—do not edit manually.)
- **Code Style**: Adhere to `npm run lint` rules; fix issues locally to avoid CI failures.
- **Build Output**: `dist` is auto-generated by `npm run build`—don’t commit it.
- **Commits**: Use clear messages (e.g., `feat: implement user auth`, `fix: resolve layout bug`).

### How to Contribute
1. Clone the repo (forking not needed for team members).
2. Create a `feature/*`, `bugfix/<name>`, `release/<version>`, or `hotfix/<name>` branch as needed.
3. Validate locally:
   - `npm ci`
   - `npm run lint`
   - `npx tsc --noEmit`
   - `npm run build`
4. Push your branch and open a PR to `main`.
5. Await CI results and team approval.

### Troubleshooting
- **CI Failure**: Review GitHub Actions logs for lint, type, or build errors.
- **Secrets Detected**: Remove the secret, rotate it if exposed, and amend your commit.
- **Deployment Issues**: Verify `dist` builds correctly and meets GitHub Pages requirements.

### Team Collaboration
- PRs require at least one reviewer from the team (per branch protection).
- For questions or pipeline issues, ping the DevOps team in [insert Slack channel/email, e.g., `#rpms-devops`].

Happy coding, team!